<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app">
    <input type="text" v-model="len">{{msg}}
</div>
<script src="../node_modules/vue/dist/vue.js"></script>
<script>
    let vm = new Vue({
        el:'#app',
        data:{
            len:'',
            msg:''
        },
        watch:{//只有值变化的时候才会触发，但支持异步，其他情况我们更善于使用computed
            //watch支持异步了
            len(newValue,oldValue){//watch的属性名要和观察的人名字一致，我们这里需要观察len的变化
                // console.log(newValue, oldValue);//修改表单内容，打印新的值和上一次的值，只有值变化的时候才会触发watch
                setTimeout(() => {
                    if(newValue.length<3){
                        return this.msg = "short";
                    }else if(newValue.length>8){
                        return this.msg = "long";
                    }else {
                        return this.msg = "ok";
                    }
                },2000)
            }
        }
    })
</script>
</body>
</html>