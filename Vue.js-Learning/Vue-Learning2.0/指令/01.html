<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="app">
        <input type="text" autofocus v-focus>
    </div>
</body>
<script src="../node_modules/vue/dist/vue.js"></script>
<script>
    // 第一个参数是指令名，第二个参数是需要配置指令的生命钩子函数
    Vue.directive('focus',{
        // 当被绑定的元素插入到DOM中时
        // el 参数就是需要作用该指令的DOM元素
        // 只调用一次，指令第一次绑定到元素时调用。在这里可以进行一次性的初始化设置。
        bind(el){
            console.log('bind',el);//这里拿不到父节点
        },
        // 被绑定元素插入父节点时调用 (仅保证父节点存在，但不一定已被插入文档中)。
        // 如果需要操作作用指令的父元素，则最起码写到这个insert中
        inserted(){
            console.log('inserted');//这里拿得到父节点
        },
        // 所在组件的 VNode 更新时调用，但是可能发生在其子 VNode 更新之前。指令的值可能发生了改变，也可能没有。
        // 但是你可以通过比较更新前后的值来忽略不必要的模板更新 (详细的钩子函数参数见下)。
        //update和componentUpdated的区别是：update中获取的是更新之前的指令所在的DOM内容 componentUpdated是获取
        //更新之后的最新DOM内容
        update(){
            console.log('update');
        },
        // 指令所在组件的 VNode 及其子 VNode 全部更新后调用。
        componentUpdated(){
            console.log('componentUpdated');
        },
        // 只调用一次，指令与元素解绑时调用。
        unbind(){
            console.log('unbind');
        }
    });
    let vm = new Vue({
        el:'#app',
        data:{

        }
    })
</script>
</html>